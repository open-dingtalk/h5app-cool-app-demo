{"version":3,"sources":["App.js","reportWebVitals.js","components/Announcement.js","components/Schedule.js","router/index.js","index.js"],"names":["App","props","state","domain","corpId","authCode","userId","userName","showType","log","setInterval","a","axios","get","then","res","data","logList","setState","catch","error","alert","JSON","stringify","url","height","color","lineHeight","textAlign","background","backgroundImage","this","login","className","src","autoplay","style","backgroundRepeat","backgroundSize","type","to","length","map","item","i","Item","loginAction","_this","dd","permission","requestAuthCode","onSuccess","code","success","message","info","setTimeout","onFail","err","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Announcement","Option","Select","Form","useForm","form","useState","cid","setCid","cidOption","setCidOption","conArr","setConArr","img","setImg","window","location","protocol","hostname","initValue","title","content","imgArr","useEffect","hash","showGroup","indexOf","str","substr","index","conversationIdMap","arr","Object","keys","obj","label","value","push","onFinish","console","post","initialValues","name","placeholder","defaultValue","onChange","parseInt","options","onSelect","encodeURIComponent","htmlType","Schedule","TextArea","Input","pickerV","setPickerV","users","setUsers","departments","setDepartments","sign","setSign","scheduleTime","Date","address","syncSchedule","id","date","href","agentId","timeStamp","nonceStr","signature","jsApiList","complexPicker","e","contact","multiple","limitTips","maxUsers","pickedUsers","pickedDepartments","disabledUsers","disabledDepartments","requiredUsers","requiredDepartments","appId","permissionType","responseUserOnly","startWithDepartmentId","result","deArr","join","usArr","setFieldsValue","pickerFn","formData","moment","format","readOnly","onClick","visible","onClose","min","precision","onConfirm","val","s","history","createHashHistory","RouterConfig","path","exact","render","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.654b6127.chunk.js","sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport './App.css'\nimport \"antd/dist/antd.min.css\"\nimport { Button, message, Carousel, Timeline} from \"antd\"\nimport * as dd from \"dingtalk-jsapi\"\nimport {NavLink} from 'react-router-dom'\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            //内网穿透工具介绍:\n            // https://developers.dingtalk.com/document/resourcedownload/http-intranet-penetration?pnamespace=app\n            domain: \"\",\n            corpId: '',\n            authCode: '',\n            userId: '',\n            userName: '',\n            showType: 0,\n            log:[]\n\n        }\n    }\n\n    componentDidMount() {\n        setInterval(async ()=>{\n            axios.get(this.state.domain + \"/getLog\")\n                .then(res => {\n                    if (res.data) {\n                        const logList = res.data;\n                        this.setState({\n                            log: logList\n                        });\n                    }\n                }).catch(error => {\n                alert(\"getLog err, \" + JSON.stringify(error))\n            })\n        },5000)\n    }\n\n    constructorContentStyle(url) {\n        const contentStyle = {\n            height: '160px',\n            color: '#fff',\n            lineHeight: '160px',\n            textAlign: 'center',\n            background: '#364d79',\n            backgroundImage: 'url(' + url + ')'\n        }\n        return contentStyle;\n    }\n\n    // getLog() {\n    //\n    // }\n\n    render() {\n        // this.getLog();\n        if (this.state.userId === '') {\n            // 免登操作\n            this.login();\n        }\n        return (\n        <div className=\"content\">\n            <div className=\"header\">\n                <img\n                    src=\"https://img.alicdn.com/imgextra/i3/O1CN01Mpftes1gwqxuL0ZQE_!!6000000004207-2-tps-240-240.png\"\n                    className=\"headImg\"\n                />\n                钉钉模板\n            </div>\n            <div className=\"App\">\n                <h2>酷应用配置</h2>\n                <p>体验此应用需要做如下配置，参考文档：https://open.dingtalk.com/document/org/group-application</p>\n                <Carousel autoplay={true}>\n                    <div>\n                        <p style={{\n                            height: '160px',\n                            color: 'red',\n                            lineHeight: '160px',\n                            textAlign: 'center',\n                            background: '#364d79',\n                            backgroundRepeat:'no-repeat',\n                            backgroundSize:'100% 100%',\n                            backgroundImage: 'url(https://img.alicdn.com/imgextra/i2/O1CN01MG0GBf1fbxJHpo96o_!!6000000004026-2-tps-988-593.png)'\n                        }}>第一步：配置机器人</p>\n                    </div>\n                    <div>\n                        <p style={{\n                            height: '160px',\n                            color: 'red',\n                            lineHeight: '160px',\n                            textAlign: 'center',\n                            background: '#364d79',\n                            backgroundRepeat:'no-repeat',\n                            backgroundSize:'100% 100%',\n                            backgroundImage: 'url(https://img.alicdn.com/imgextra/i4/O1CN01DXlDeL1ZBx81BluOv_!!6000000003157-2-tps-1013-610.png)'\n                        }}>第二步：开启配置应用扩展</p>\n                    </div>\n                    <div>\n                        <p style={{\n                            height: '160px',\n                            color: 'red',\n                            lineHeight: '160px',\n                            textAlign: 'center',\n                            background: '#364d79',\n                            backgroundRepeat:'no-repeat',\n                            backgroundSize:'100% 100%',\n                            backgroundImage: 'url(https://img.alicdn.com/imgextra/i3/O1CN01Lz3wjC1aFRlgZo0fW_!!6000000003300-2-tps-1005-536.png)'\n                        }}>第三步：配置群入口</p>\n                    </div>\n                    <div>\n                        <p style={{\n                            height: '160px',\n                            color: 'red',\n                            lineHeight: '160px',\n                            textAlign: 'center',\n                            background: '#364d79',\n                            backgroundRepeat:'no-repeat',\n                            backgroundSize:'100% 100%',\n                            backgroundImage: 'url(https://img.alicdn.com/imgextra/i4/O1CN01DXlDeL1ZBx81BluOv_!!6000000003157-2-tps-1013-610.png)'\n                        }}>第四步：点击按钮发布到群</p>\n                    </div>\n                </Carousel>\n                <br/><br/>\n                <div>\n                    <h2>酷应用示例</h2>\n                    <p>\n                        <Button type=\"primary\">\n                            <NavLink to='/Announcement'>推送公告到群</NavLink>\n                        </Button>\n                    </p>\n                    <p>\n                        <Button type=\"primary\">\n                            <NavLink to='/Schedule'>同步日程到群</NavLink>\n                        </Button>\n                    </p>\n                </div>\n                <br/><br/>\n                <div>\n                    <h2>酷应用动作</h2>\n                    <p>\n                        {this.state.log.length > 0 && (\n                            <div>\n                                <Timeline>\n                                    {this.state.log.map((item, i) => (\n                                        <Timeline.Item key={i}>{item}</Timeline.Item>\n                                    ))}\n                                </Timeline>\n                            </div>\n                        )}\n                    </p>\n                </div>\n            </div>\n        </div>\n        );\n    }\n\n    //登录-获取corpId\n    login() {\n        axios.get(this.state.domain + \"/getCorpId\")\n            .then(res => {\n                if (res.data) {\n                    this.loginAction(res.data);\n                }\n            }).catch(error => {\n            alert(\"corpId err, \" + JSON.stringify(error))\n        })\n    }\n\n    //登录操作\n    loginAction(corpId) {\n        // alert(\"corpId: \" +  corpId);\n        let _this = this;\n        dd.runtime.permission.requestAuthCode({\n            corpId: corpId,//企业 corpId\n            onSuccess: function (res) {\n                // 调用成功时回调\n                _this.state.authCode = res.code\n                axios.get(_this.state.domain + \"/login?authCode=\" + _this.state.authCode\n                ).then(res => {\n                    if (res && res.data.success) {\n                        let userId = res.data.data.userId;\n                        let userName = res.data.data.userName;\n                        message.info('登录成功，你好' + userName);\n                        setTimeout(function () {\n                            _this.setState({\n                                userId: userId,\n                                userName: userName\n                            })\n                        }, 0)\n                    } else {\n                        alert(\"login failed --->\" + JSON.stringify(res));\n                    }\n                }).catch(error => {\n                    alert(\"httpRequest failed --->\" + JSON.stringify(error))\n                })\n            },\n            onFail: function (err) {\n                // 调用失败时回调\n                alert(\"requestAuthCode failed --->\" + JSON.stringify(err))\n            }\n        });\n    }\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import react, { useEffect, useState } from \"react\"\nimport {Form, Input, Button, message, Select, Image} from \"antd\"\nimport React from \"react\"\nimport {NavLink} from 'react-router-dom'\nimport '../App.css'\nimport \"antd/dist/antd.min.css\"\nimport axios from \"axios\";\n\nconst Announcement = (props) => {\n    const { Option } = Select;\n    const [form] = Form.useForm()\n    const [cid, setCid] = useState('');\n    const [cidOption, setCidOption] = useState('');\n    const [conArr, setConArr] = useState([]);\n    const [img, setImg] = useState('https://img.alicdn.com/imgextra/i2/O1CN01RVPdut26Fxv9aZjvf_!!6000000007633-2-tps-220-324.png');\n    const domain = window.location.protocol + \"//\" + window.location.hostname;\n    const initValue = {\n        title: \"公告\",\n        content: \"大家按照这个格式填写下，每周我会做一个统计和公布哈，和大家同步下我们的进展\",\n        imgArr: [\n            \"https://img.alicdn.com/imgextra/i1/O1CN01AFoPW21aVw1gZfaoX_!!6000000003336-2-tps-220-324.png\",\n            \"https://img.alicdn.com/imgextra/i2/O1CN01RVPdut26Fxv9aZjvf_!!6000000007633-2-tps-220-324.png\",\n            \"https://img.alicdn.com/imgextra/i3/O1CN019wBXsv1wyG4CA2Tcm_!!6000000006376-2-tps-220-324.png\",\n            \"https://img.alicdn.com/imgextra/i2/O1CN01aL4qn21q0MZjXf9jS_!!6000000005433-2-tps-220-324.png\"\n        ]\n    }\n\n    const onSubmit = (data) => {\n        data.cid = cid !== '' ? cid : cidOption;\n        data.img = img;\n        data.domain = domain;\n        console.log(\"======= pushAnnouncement =======\")\n        axios.post( \"/biz/pushAnnouncement\", data).then(res => {\n        }).catch(error => {\n            alert(\"pushAnnouncement err, \" + JSON.stringify(error))\n        })\n    }\n\n    const selectCid = (value) => {\n        let cid = encodeURIComponent(value);\n        setCidOption(cid);\n    }\n\n    const selectImg = (value) => {\n        const i = parseInt(value)\n        const img = initValue.imgArr[i];\n        setImg(img);\n    }\n\n    useEffect(()=>{\n        const hash = window.location.hash\n        let showGroup = true;\n        if(hash){\n            let indexOf = hash.indexOf(\"/\");\n            let str = hash.substr(indexOf + 1);\n            let index = str.indexOf(\"/\");\n            if(index > 0){\n                let cid = str.substr(index + 1);\n                setCid(cid);\n                showGroup = false;\n            }\n        }\n        if(showGroup){\n            axios.get(\"/getConversationIdMap\").then(res => {\n                const conversationIdMap = res.data;\n                let arr = [];\n                Object.keys(conversationIdMap).map((item, i) => {\n                    let obj = {label: conversationIdMap[item], value:item};\n                    arr.push(obj);\n                })\n                setConArr(arr);\n            }).catch(error => {\n                alert(\"getConversationIdMap err, \" + JSON.stringify(error))\n            })\n        }\n    },[])\n\n\n    return (\n        <div className=\"content\">\n            <div className=\"header\">\n                <img\n                    src=\"https://img.alicdn.com/imgextra/i3/O1CN01Mpftes1gwqxuL0ZQE_!!6000000004207-2-tps-240-240.png\"\n                    className=\"headImg\"\n                />\n                钉钉模板\n            </div>\n            <div className=\"App\">\n                <h3 className=\"title\">酷应用示例—推送公告到群</h3>\n                <Form form={form} onFinish={onSubmit} initialValues={initValue}>\n                    <Form.Item label=\"公告标题\" name=\"title\">\n                        <Input placeholder=\"请输入公告标题\"/>\n                    </Form.Item>\n                    <Form.Item label=\"公告内容\" name=\"content\">\n                        <Input placeholder=\"请输入公告内容\"/>\n                    </Form.Item>\n                    <Form.Item label=\"公告配图\" name=\"img\">\n                        <Select defaultValue=\"1\" onChange={selectImg}>\n                            <Option value=\"0\">图1</Option>\n                            <Option value=\"1\">图2</Option>\n                            <Option value=\"2\">图3</Option>\n                            <Option value=\"3\">图4</Option>\n                        </Select>\n                        <br/>\n                        <Image src={img} />\n                    </Form.Item>\n\n                    {(cid === '' && conArr.length > 0) && (\n                        <Form.Item label=\"选择群组\" name=\"cid\">\n                        <Select options={conArr} onSelect={selectCid}/>\n                        </Form.Item>\n                    )}\n                    <Button htmlType=\"submit\" type=\"primary\">\n                        提交\n                    </Button>\n                </Form>\n                <NavLink to='/App'>←应用首页</NavLink>\n            </div>\n        </div>\n    )\n}\n\nexport default Announcement\n","import react, { useEffect, useState } from \"react\"\nimport { Form, Input, Button, message, Select} from \"antd\"\nimport React from \"react\"\nimport { DatePicker } from \"antd-mobile\"\nimport moment from \"moment\"\nimport {NavLink} from 'react-router-dom'\nimport '../App.css'\nimport \"antd/dist/antd.min.css\"\nimport axios from \"axios\"\nimport * as dd from \"dingtalk-jsapi\"\n\nconst Schedule = (props) => {\n    const { TextArea } = Input;\n    const { Option } = Select;\n    const [form] = Form.useForm();\n    const [pickerV, setPickerV] = useState(false);\n    const [users, setUsers] = useState([]);\n    const [departments, setDepartments] = useState([]);\n    const [sign, setSign] = useState({});\n    const [cid, setCid] = useState('');\n    const [cidOption, setCidOption] = useState('');\n    const [conArr, setConArr] = useState([]);\n    const domain = window.location.protocol + \"//\" + window.location.hostname;\n    const initValue = {\n        title: \"设计中心周会\",\n        scheduleTime: new Date(),\n        address: \"湖畔 大梅沙\",\n    }\n\n    const onSubmit = (data) => {\n        const formData ={\n            ...data,\n            scheduleTime: moment(data.scheduleTime).format(\"MM月DD日 HH:mm\")\n        }\n        syncSchedule(formData)\n    }\n\n    const syncSchedule = (data) => {\n        const { title, scheduleTime, address} = data\n        let id = cid !== '' ? cid : cidOption;\n        axios.post(\"/biz/syncSchedule\", {\n            title:title,\n            date:scheduleTime,\n            address:address,\n            users:users,\n            departments:departments,\n            cid:id,\n            domain:domain\n        }).then(res => {\n        }).catch(error => {\n            alert(\"syncSchedule err, \" + JSON.stringify(error))\n        })\n    }\n\n    const pickerFn = (departments = [], users = []) => {\n        let str = \"\";\n        if(departments.length > 0) {\n            let deArr = [];\n            departments.map((item, i) => {\n                deArr.push(item.name);\n            })\n            str += '部门：' + deArr.join(\",\") + '\\n';\n        }\n        if(users.length > 0) {\n            let usArr = [];\n            users.map((item, i) => {\n                usArr.push(item.name);\n            })\n            str += '人员：' + usArr.join(\",\");\n        }\n        form.setFieldsValue({\n            users:str\n        })\n    }\n\n    const ddConfig = (data) => {\n        dd.config({\n            agentId: data.agentId, // 必填，微应用ID\n            corpId: data.corpId,//必填，企业ID\n            timeStamp: data.timeStamp, // 必填，生成签名的时间戳\n            nonceStr: data.nonceStr, // 必填，自定义固定字符串。\n            signature: data.signature, // 必填，签名\n            type: data.type,   //选填。0表示微应用的jsapi,1表示服务窗的jsapi；不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持\n            jsApiList : [\n                'biz.contact.complexPicker',\n            ] // 必填，需要使用的jsapi列表，注意：不要带dd。\n        });\n        dd.error(function (err) {\n            alert('dd error: ' + JSON.stringify(err));\n        })\n    }\n\n    const selectCid = (value) => {\n        let cid = encodeURIComponent(value);\n        setCidOption(cid);\n    }\n\n    useEffect(()=>{\n        let hash = window.location.hash\n        let showGroup = true;\n        if(hash){\n            let indexOf = hash.indexOf(\"/\");\n            let str = hash.substr(indexOf + 1);\n            let index = str.indexOf(\"/\");\n            if(index > 0) {\n                let cid = str.substr(index + 1);\n                setCid(cid);\n                showGroup = false;\n            }\n        };\n        let href = window.location.href;\n        axios.post(\"/sign?url=\" + href\n        ).then(res => {\n            setSign(res.data);\n            ddConfig(res.data);\n        }).catch(error => {\n            alert(\"sign err, \" + JSON.stringify(error))\n        })\n        if(showGroup){\n            axios.get(\"/getConversationIdMap\").then(res => {\n                const conversationIdMap = res.data;\n                let arr = [];\n                Object.keys(conversationIdMap).map((item, i) => {\n                    let obj = {label: conversationIdMap[item], value:item};\n                    arr.push(obj);\n                })\n                setConArr(arr);\n            }).catch(error => {\n                alert(\"getConversationIdMap err, \" + JSON.stringify(error))\n            })\n        }\n    },[])\n\n\n    const complexPicker = (e) => {\n\n        dd.biz.contact.complexPicker({\n            title:\"选择人员\",            //标题\n            corpId:sign.corpId,              //企业的corpId\n            multiple:true,            //是否多选\n            limitTips:\"超出了\",          //超过限定人数返回提示\n            maxUsers:10,            //最大可选人数\n            pickedUsers:[],            //已选用户\n            pickedDepartments:[],          //已选部门\n            disabledUsers:[],            //不可选用户\n            disabledDepartments:[],        //不可选部门\n            requiredUsers:[],            //必选用户（不可取消选中状态）\n            requiredDepartments:[],        //必选部门（不可取消选中状态）\n            appId:sign.agentId,              //微应用Id，企业内部应用查看AgentId\n            permissionType:\"\",          //可添加权限校验，选人权限，目前只有GLOBAL这个参数\n            responseUserOnly:false,        //返回人，或者返回人和部门\n            startWithDepartmentId:0 ,   //仅支持0和-1\n            onSuccess: function(result) {\n                setUsers(result.users);\n                setDepartments(result.departments);\n                pickerFn(result.departments, result.users);\n            },\n            onFail : function(err) {\n                alert(\"complexPicker err, \" + JSON.stringify(err))\n            }\n        });\n    }\n\n    return (\n        <div className=\"content\">\n            <div className=\"header\">\n                <img\n                    src=\"https://img.alicdn.com/imgextra/i3/O1CN01Mpftes1gwqxuL0ZQE_!!6000000004207-2-tps-240-240.png\"\n                    className=\"headImg\"\n                />\n                钉钉模板\n            </div>\n            <div className=\"App\">\n                <h3 className=\"title\">酷应用示例—同步日程到群</h3>\n                <Form form={form} onFinish={onSubmit} initialValues={initValue}>\n                    <Form.Item label=\"日程主题\" name=\"title\">\n                        <Input placeholder=\"请输入日程主题\" />\n                    </Form.Item>\n                    <Form.Item label=\"日程地点\" name=\"address\">\n                        <Input placeholder=\"请输入日程地点\" />\n                    </Form.Item>\n                    <Form.Item label=\"日程人员\" name=\"users\">\n                        <TextArea placeholder=\"请选择日程参与人员\" readOnly={true} />\n                    </Form.Item>\n                    <Form.Item label=''>\n                        <Button onClick={(e) => complexPicker(e)}>\n                            选择组织人员\n                        </Button>\n                    </Form.Item>\n                    {(cid === '' && conArr.length > 0) && (\n                        <Form.Item label=\"选择群组\" name=\"cid\">\n                            <Select options={conArr} onSelect={selectCid}/>\n                        </Form.Item>\n                    )}\n                    <Form.Item label=\"日程时间\" name=\"scheduleTime\">\n                        <DatePicker\n                            visible={pickerV}\n                            onClose={() => {\n                                setPickerV(false)\n                            }}\n                            min={new Date()}\n                            precision=\"second\"\n                            onConfirm={(val, s) => {\n                                form.setFieldsValue({\n                                    scheduleTime: val,\n                                })\n                            }}\n                        >\n                        {(value) => (\n                            <div style={{ textAlign: \"left\" }}>\n                                <Button onClick={() => setPickerV(true)} >\n                                    选择时间\n                                </Button>{\" \"}\n                                {moment(value).format(\"YYYY-MM-DD HH:mm:ss\")}\n                            </div>\n                        )}\n                        </DatePicker>\n                    </Form.Item>\n                    <Button htmlType=\"submit\" type=\"primary\">\n                        提交\n                    </Button>\n                </Form>\n                <NavLink to='/App'>←应用首页</NavLink>\n            </div>\n        </div>\n    )\n}\n\nexport default Schedule\n","import Announcement from '../components/Announcement';\nimport Schedule from '../components/Schedule';\nimport App from '../App';\nimport React from 'react';\nimport {Router,Route,Switch,Redirect} from 'react-router-dom';\nimport { createHashHistory } from \"history\";\nconst history = createHashHistory();\n\nclass RouterConfig extends React.Component{\n    render(){\n        return(\n            <Router history={history}>\n                <Switch>\n                    <Route path='/' exact render={()=>(\n                        <Redirect to='/App'/>\n                    )}/>\n                    <Route path='/App' component={App}/>\n                    <Route path='/Announcement' component={Announcement}/>\n                    <Route path='/Schedule' component={Schedule}/>\n                </Switch>\n            </Router>\n        )\n    }\n}\nexport default RouterConfig;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport RouterConfig from './router/index.js';\n\nReactDOM.render(\n    <RouterConfig/>, document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}