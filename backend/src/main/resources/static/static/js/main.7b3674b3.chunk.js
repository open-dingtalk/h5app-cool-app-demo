(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{123:function(e,t,n){},170:function(e,t,n){},489:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(34),s=n.n(a),o=(n(170),n(18)),r=n(19),u=n(23),h=n(22),l=n(79),d=n.n(l),j=(n(123),n(124),n(159)),p=n(161),b=n(142),m=n(7),f=n(490),O=n(491),x=n(71),g=n(11),y=function(e){var t=f.a.useForm(),n=Object(m.a)(t,1)[0];return Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01Mpftes1gwqxuL0ZQE_!!6000000004207-2-tps-240-240.png",className:"headImg"}),"\u9489\u9489\u6a21\u677f"]}),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h4",{className:"title",children:"\u9177\u5e94\u7528\u793a\u4f8b\u2014\u63a8\u9001\u516c\u544a\u5230\u7fa4"}),Object(g.jsxs)(f.a,{form:n,onFinish:function(t){e.onClick(t)},initialValues:{title:"\u516c\u544a\u6807\u9898",content:"\u516c\u544a\u5185\u5bb9"},children:[Object(g.jsx)(f.a.Item,{label:"\u516c\u544a\u6807\u9898",name:"title",children:Object(g.jsx)(O.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u544a\u6807\u9898"})}),Object(g.jsx)(f.a.Item,{label:"\u516c\u544a\u5185\u5bb9",name:"content",children:Object(g.jsx)(O.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u544a\u5185\u5bb9"})}),Object(g.jsx)(j.a,{htmlType:"submit",type:"primary",children:"\u63d0\u4ea4"})]}),Object(g.jsx)(x.a,{to:"/App",children:"\u2190\u5e94\u7528\u9996\u9875"})]})]})};var v=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).state={domain:"",corpId:"",authCode:"",userId:"",userName:"",showType:0},c}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return this.showPage(),""===this.state.userId&&this.login(),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01Mpftes1gwqxuL0ZQE_!!6000000004207-2-tps-240-240.png",className:"headImg"}),"\u9489\u9489\u6a21\u677f"]}),Object(g.jsxs)("div",{className:"App",children:[0===this.state.showType&&Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"\u9177\u5e94\u7528\u793a\u4f8b"}),Object(g.jsx)("p",{children:Object(g.jsx)(j.a,{type:"primary",children:Object(g.jsx)(x.a,{to:"/Announcement",children:"\u63a8\u9001\u516c\u544a\u5230\u7fa4"})})}),Object(g.jsx)("p",{children:Object(g.jsx)(j.a,{type:"primary",onClick:function(){return e.setState({showType:2})},children:"\u540c\u6b65\u65e5\u7a0b\u5230\u7fa4"})})]}),1===this.state.showType&&Object(g.jsx)("div",{children:Object(g.jsx)(y,{onClick:function(t){return e.pushAnnouncement(t)}})})]})]})}},{key:"backHome",value:function(){this.setState({showType:0})}},{key:"writeAnnouncement",value:function(e){}},{key:"pushAnnouncement",value:function(e){var t=e.title,n=e.content;d.a.post(this.state.domain+"/biz/pushAnnouncement",{title:t,content:n}).then((function(e){})).catch((function(e){alert("pushAnnouncement err, "+JSON.stringify(e))}))}},{key:"syncSchedule",value:function(){d.a.post(this.state.domain+"/biz/syncSchedule").then((function(e){})).catch((function(e){alert("pushAnnouncement err, "+JSON.stringify(e))}))}},{key:"login",value:function(){var e=this;d.a.get(this.state.domain+"/getCorpId").then((function(t){t.data&&e.loginAction(t.data)})).catch((function(e){alert("corpId err, "+JSON.stringify(e))}))}},{key:"loginAction",value:function(e){var t=this;b.runtime.permission.requestAuthCode({corpId:e,onSuccess:function(e){t.state.authCode=e.code,d.a.get(t.state.domain+"/login?authCode="+t.state.authCode).then((function(e){if(e&&e.data.success){var n=e.data.data.userId,c=e.data.data.userName;p.b.info("\u767b\u5f55\u6210\u529f\uff0c\u4f60\u597d"+c),setTimeout((function(){t.setState({userId:n,userName:c})}),0)}else alert("login failed ---\x3e"+JSON.stringify(e))})).catch((function(e){alert("httpRequest failed ---\x3e"+JSON.stringify(e))}))},onFail:function(e){alert("requestAuthCode failed ---\x3e"+JSON.stringify(e))}})}},{key:"showPage",value:function(){}}]),n}(i.a.Component),N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,492)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))},A=n(25),C=n(38),k=Object(C.b)(),I=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(g.jsx)(A.c,{history:k,children:Object(g.jsxs)(A.d,{children:[Object(g.jsx)(A.b,{path:"/",exact:!0,render:function(){return Object(g.jsx)(A.a,{to:"/App"})}}),Object(g.jsx)(A.b,{path:"/App",component:v}),Object(g.jsx)(A.b,{path:"/Announcement",component:y})]})})}}]),n}(i.a.Component),S=I;s.a.render(Object(g.jsx)(S,{}),document.getElementById("root")),N()}},[[489,1,2]]]);
//# sourceMappingURL=main.7b3674b3.chunk.js.map